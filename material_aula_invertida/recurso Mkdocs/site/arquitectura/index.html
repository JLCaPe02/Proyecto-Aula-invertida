
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentación teórica profesional sobre la administración de sistemas de correo electrónico en entornos Linux">
      
      
        <meta name="author" content="Teodoro Sibón Jiménez y José Luis Cabello Pérez">
      
      
      
        <link rel="prev" href="../conceptos_base/">
      
      
        <link rel="next" href="../protocolos/">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Arquitectura del Sistema - Administración de Servicios de Correo Electrónico</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#arquitectura-del-sistema-de-correo-electronico" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href=".." title="Administración de Servicios de Correo Electrónico" class="md-header__button md-logo" aria-label="Administración de Servicios de Correo Electrónico" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Administración de Servicios de Correo Electrónico
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Arquitectura del Sistema
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="indigo"  aria-label="Cambiar a modo oscuro"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Cambiar a modo oscuro" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="indigo"  aria-label="Cambiar a modo claro"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Cambiar a modo claro" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Compartir" aria-label="Compartir" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Pestañas" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href=".." class="md-tabs__link">
          
  
  
    
  
  Inicio

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
  
    
  
  Arquitectura y Protocolos

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../dns_infraestructura/" class="md-tabs__link">
          
  
  
    
  
  Infraestructura

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../seguridad/" class="md-tabs__link">
          
  
  
    
  
  Seguridad

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Administración de Servicios de Correo Electrónico" class="md-nav__button md-logo" aria-label="Administración de Servicios de Correo Electrónico" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Administración de Servicios de Correo Electrónico
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href=".." class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Inicio
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Inicio
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../conceptos_base/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Conceptos Básicos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Arquitectura y Protocolos
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Arquitectura y Protocolos
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Arquitectura del Sistema
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Arquitectura del Sistema
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduccion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Introducción
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#agentes-del-sistema" class="md-nav__link">
    <span class="md-ellipsis">
      
        Agentes del Sistema
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Agentes del Sistema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mua-mail-user-agent" class="md-nav__link">
    <span class="md-ellipsis">
      
        MUA (Mail User Agent)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mta-mail-transfer-agent" class="md-nav__link">
    <span class="md-ellipsis">
      
        MTA (Mail Transfer Agent)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mda-mail-delivery-agent" class="md-nav__link">
    <span class="md-ellipsis">
      
        MDA (Mail Delivery Agent)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#formatos-de-almacenamiento-buzones" class="md-nav__link">
    <span class="md-ellipsis">
      
        Formatos de Almacenamiento (Buzones)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comparativa-de-formatos" class="md-nav__link">
    <span class="md-ellipsis">
      
        Comparativa de Formatos
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flujo-completo-de-un-correo" class="md-nav__link">
    <span class="md-ellipsis">
      
        Flujo Completo de un Correo
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#proximos-pasos" class="md-nav__link">
    <span class="md-ellipsis">
      
        Próximos Pasos
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../protocolos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Protocolos de Comunicación
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Infraestructura
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Infraestructura
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dns_infraestructura/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DNS y Correo Electrónico
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../administracion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Administración y Diagnóstico
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Seguridad
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Seguridad
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../seguridad/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Seguridad y Autenticación
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="arquitectura-del-sistema-de-correo-electronico">Arquitectura del Sistema de Correo Electrónico<a class="headerlink" href="#arquitectura-del-sistema-de-correo-electronico" title="Enlace permanente">&para;</a></h1>
<h2 id="introduccion">Introducción<a class="headerlink" href="#introduccion" title="Enlace permanente">&para;</a></h2>
<p>El flujo de un correo electrónico no es una conexión punto a punto directa entre dos personas, sino una <strong>cadena de relevos</strong> procesada por distintos tipos de software especializado. Comprender la arquitectura del sistema es fundamental para administrar, diagnosticar y optimizar servicios de correo.</p>
<pre class="mermaid"><code>sequenceDiagram
    participant U1 as Usuario Origen
    participant MUA1 as MUA Origen
    participant MTA1 as MTA Origen
    participant DNS as Servidor DNS
    participant MTA2 as MTA Destino
    participant MDA as MDA
    participant Buzón as Buzón Usuario
    participant MUA2 as MUA Destino
    participant U2 as Usuario Destino

    U1-&gt;&gt;MUA1: Redacta correo
    MUA1-&gt;&gt;MTA1: Envía via SMTP
    MTA1-&gt;&gt;DNS: Consulta registro MX
    DNS--&gt;&gt;MTA1: Devuelve servidor destino
    MTA1-&gt;&gt;MTA2: Transfiere via SMTP
    MTA2-&gt;&gt;MDA: Entrega mensaje
    MDA-&gt;&gt;Buzón: Almacena en disco
    U2-&gt;&gt;MUA2: Solicita correos
    MUA2-&gt;&gt;Buzón: Consulta via IMAP/POP3
    Buzón--&gt;&gt;MUA2: Devuelve mensajes
    MUA2--&gt;&gt;U2: Muestra correos</code></pre>
<hr />
<h2 id="agentes-del-sistema">Agentes del Sistema<a class="headerlink" href="#agentes-del-sistema" title="Enlace permanente">&para;</a></h2>
<p>El ecosistema del correo electrónico se compone de tres tipos principales de agentes software, cada uno con responsabilidades específicas:</p>
<h3 id="mua-mail-user-agent">MUA (Mail User Agent)<a class="headerlink" href="#mua-mail-user-agent" title="Enlace permanente">&para;</a></h3>
<p><strong>Definición</strong>: Es el agente de usuario, la aplicación cliente que interactúa directamente con el usuario final.</p>
<p><strong>Funcionalidades</strong>:</p>
<ul>
<li>Permite redactar, enviar y visualizar correos electrónicos</li>
<li>Proporciona interfaz gráfica o web para gestión de mensajes</li>
<li><strong>No almacena</strong> ni gestiona el tránsito del correo por Internet</li>
<li>Solo interactúa con los servidores inicial (envío) o final (recepción)</li>
</ul>
<p><strong>Ejemplos de implementación</strong>:</p>
<ul>
<li><strong>Clientes de escritorio</strong>: Mozilla Thunderbird, Microsoft Outlook, Apple Mail</li>
<li><strong>Clientes web (Webmail)</strong>: Roundcube, SquirrelMail, Zimbra</li>
<li><strong>Clientes móviles</strong>: K-9 Mail (Android), Mail nativa (iOS)</li>
</ul>
<div class="admonition info">
<p class="admonition-title">MUA y Protocolos</p>
<p>Los MUA utilizan <strong>SMTP</strong> para enviar correos al servidor y <strong>IMAP</strong> o <strong>POP3</strong> para recuperarlos. El usuario final nunca interactúa directamente con estos protocolos; el MUA los gestiona de forma transparente.</p>
</div>
<hr />
<h3 id="mta-mail-transfer-agent">MTA (Mail Transfer Agent)<a class="headerlink" href="#mta-mail-transfer-agent" title="Enlace permanente">&para;</a></h3>
<p><strong>Definición</strong>: Es el servidor de transferencia, el componente central que actúa como "enrutador" del correo electrónico.</p>
<p><strong>Funciones principales</strong>:</p>
<ol>
<li><strong>Recepción</strong>: Acepta mensajes de MUA o de otros MTA</li>
<li><strong>Enrutamiento</strong>: Decide el siguiente salto basándose en el dominio de destino</li>
<li><strong>Transferencia</strong>: Transmite el correo al MTA destino o lo entrega localmente</li>
<li><strong>Encolado</strong>: Almacena temporalmente mensajes que no pueden entregarse inmediatamente</li>
<li><strong>Reintentos</strong>: Programación automática de reenvíos en caso de fallos temporales</li>
</ol>
<p><strong>Proceso de decisión del MTA</strong>:</p>
<pre class="mermaid"><code>flowchart TD
    A[MTA recibe correo] --&gt; B{¿Dominio destino&lt;br/&gt;es local?}
    B --&gt;|Sí| C[Entrega a MDA local]
    B --&gt;|No| D[Consulta DNS para MX]
    D --&gt; E[Conecta con MTA destino]
    E --&gt; F{¿Conexión&lt;br/&gt;exitosa?}
    F --&gt;|Sí| G[Transfiere mensaje via SMTP]
    F --&gt;|No| H[Encola mensaje]
    H --&gt; I[Programa reintento]
    I --&gt; J{¿Aún dentro del&lt;br/&gt;tiempo límite?}
    J --&gt;|Sí| E
    J --&gt;|No| K[Devuelve bounce al remitente]

    style C fill:#26a69a,stroke:#00695c,color:#fff
    style G fill:#26a69a,stroke:#00695c,color:#fff
    style K fill:#ef5350,stroke:#c62828,color:#fff</code></pre>
<p><strong>Software MTA más utilizado</strong>:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Software</th>
<th style="text-align: left;">Características</th>
<th style="text-align: left;">Uso típico</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>Postfix</strong></td>
<td style="text-align: left;">Modular, seguro, alto rendimiento</td>
<td style="text-align: left;">Servidores empresariales y proveedores</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Exim</strong></td>
<td style="text-align: left;">Flexible, altamente configurable</td>
<td style="text-align: left;">Hosting compartido, sistemas Debian</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Sendmail</strong></td>
<td style="text-align: left;">Histórico, muy complejo</td>
<td style="text-align: left;">Sistemas legacy</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Microsoft Exchange</strong></td>
<td style="text-align: left;">Integrado con Active Directory</td>
<td style="text-align: left;">Entornos corporativos Windows</td>
</tr>
</tbody>
</table>
<div class="admonition tip">
<p class="admonition-title">Recomendación para Nuevas Instalaciones</p>
<p><strong>Postfix</strong> es actualmente el MTA más recomendado por su equilibrio entre seguridad, rendimiento y facilidad de configuración. Es el MTA por defecto en la mayoría de distribuciones Linux modernas.</p>
</div>
<hr />
<h3 id="mda-mail-delivery-agent">MDA (Mail Delivery Agent)<a class="headerlink" href="#mda-mail-delivery-agent" title="Enlace permanente">&para;</a></h3>
<p><strong>Definición</strong>: Es el agente de entrega local. Una vez el correo ha llegado al servidor de destino final, el MTA transfiere el mensaje al MDA para su almacenamiento.</p>
<p><strong>Responsabilidades</strong>:</p>
<ul>
<li><strong>Escritura en disco</strong>: Almacena el mensaje en el buzón del usuario</li>
<li><strong>Filtrado local</strong>: Aplica reglas del usuario (filtros Sieve, carpetas automáticas)</li>
<li><strong>Gestión de cuotas</strong>: Controla el espacio en disco asignado por usuario</li>
<li><strong>Indexación</strong>: Facilita búsquedas rápidas en buzones grandes</li>
</ul>
<p><strong>Software MDA representativo</strong>:</p>
<ul>
<li><strong>Dovecot</strong>: MDA/IMAP moderno, estándar de facto actual</li>
<li><strong>Courier</strong>: Suite completa MDA/IMAP/POP3</li>
<li><strong>Cyrus IMAP</strong>: Orientado a grandes instalaciones</li>
</ul>
<p><strong>Integración MTA/MDA</strong>:</p>
<pre class="mermaid"><code>graph LR
    A[Internet] --&gt; B[Postfix&lt;br/&gt;MTA]
    B --&gt; C{Usuario&lt;br/&gt;existe?}
    C --&gt;|Sí| D[Dovecot&lt;br/&gt;MDA/LMTP]
    C --&gt;|No| E[Rechazar 550]
    D --&gt; F[Buzón en&lt;br/&gt;/var/mail]

    style B fill:#26a69a,stroke:#00695c,color:#fff
    style D fill:#ab47bc,stroke:#7b1fa2,color:#fff
    style E fill:#ef5350,stroke:#c62828,color:#fff
    style F fill:#5c6bc0,stroke:#3949ab,color:#fff</code></pre>
<hr />
<h2 id="formatos-de-almacenamiento-buzones">Formatos de Almacenamiento (Buzones)<a class="headerlink" href="#formatos-de-almacenamiento-buzones" title="Enlace permanente">&para;</a></h2>
<p>Existen dos estándares principales para almacenar los correos en el disco duro del servidor Linux. La elección del formato impacta directamente en el rendimiento, fiabilidad y capacidad de recuperación ante fallos.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">mbox (Clásico)</label><label for="__tabbed_1_2">Maildir (Moderno)</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><strong>Estructura</strong>: Todos los correos de un usuario se concatenan en <strong>un único archivo de texto</strong> plano.</p>
<p><strong>Ubicación típica</strong>: <code>/var/mail/usuario</code> o <code>/var/spool/mail/usuario</code></p>
<p><strong>Formato interno</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>From usuario@ejemplo.com Mon Jan 01 12:00:00 2026
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>From: usuario@ejemplo.com
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>To: destino@ejemplo.com
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>Subject: Primer mensaje
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>Cuerpo del mensaje 1
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>From usuario@ejemplo.com Mon Jan 02 13:00:00 2026
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>From: usuario@ejemplo.com
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>To: otro@ejemplo.com
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>Subject: Segundo mensaje
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>Cuerpo del mensaje 2
</span></code></pre></div></p>
<p><strong>Ventajas</strong>:</p>
<ul>
<li>Sencillez extrema en su implementación</li>
<li>Compatible con utilidades UNIX tradicionales (grep, less, cat)</li>
<li>Consume menos inodos del sistema de archivos</li>
</ul>
<p><strong>Desventajas</strong>:</p>
<ul>
<li><strong>Bloqueo de archivos</strong>: Múltiples procesos no pueden escribir simultáneamente de forma segura</li>
<li><strong>Corrupción total</strong>: Si el archivo se corrompe, se pierden <strong>todos</strong> los correos</li>
<li><strong>Bajo rendimiento</strong>: Con buzones grandes (miles de mensajes), las operaciones son lentas</li>
<li><strong>Sin soporte para flags</strong>: Difícil marcar mensajes individuales como leídos/no leídos</li>
</ul>
</div>
<div class="tabbed-block">
<p><strong>Estructura</strong>: Utiliza una <strong>estructura de directorios</strong>. Cada correo es un <strong>archivo individual</strong> con nombre único.</p>
<p><strong>Organización de carpetas</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>~/Maildir/
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>├── cur/          # Mensajes ya visualizados
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>├── new/          # Mensajes no leídos
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>└── tmp/          # Área temporal durante la escritura
</span></code></pre></div></p>
<p><strong>Nomenclatura de archivos</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>1609459200.Vfd01I4000dM123456.servidor.ejemplo.com:2,S
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>└─────┬─────┘ └────────┬────────┘ └──────┬──────┘ └┬┘
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>      │               │                    │         │
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>  timestamp      identificador         hostname   flags
</span></code></pre></div></p>
<p><strong>Ventajas</strong>:</p>
<ul>
<li><strong>Alta fiabilidad</strong>: Si un archivo falla, solo se pierde <strong>un correo</strong></li>
<li><strong>Sin bloqueos</strong>: No requiere bloqueos de archivo, ideal para servidores con alta concurrencia</li>
<li><strong>Rendimiento escalable</strong>: Operaciones rápidas incluso con decenas de miles de mensajes</li>
<li><strong>Soporte de flags</strong>: Estados (leído, respondido, eliminado) mediante sufijos en nombres de archivo</li>
<li><strong>Backup incremental eficiente</strong>: Cada correo es un fichero separado</li>
</ul>
<p><strong>Desventajas</strong>:</p>
<ul>
<li>Mayor consumo de inodos (limitación en algunos sistemas de archivos)</li>
<li>Estructura de directorios más compleja</li>
</ul>
<div class="admonition success">
<p class="admonition-title">Recomendación Actual</p>
<p><strong>Maildir</strong> es el estándar recomendado para todas las instalaciones modernas. Es utilizado por defecto en Dovecot y soportado por todos los MTA actuales.</p>
</div>
</div>
</div>
</div>
<hr />
<h2 id="comparativa-de-formatos">Comparativa de Formatos<a class="headerlink" href="#comparativa-de-formatos" title="Enlace permanente">&para;</a></h2>
<table>
<thead>
<tr>
<th style="text-align: left;">Criterio</th>
<th style="text-align: left;">mbox</th>
<th style="text-align: left;">Maildir</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>Estructura</strong></td>
<td style="text-align: left;">Un archivo único</td>
<td style="text-align: left;">Un directorio por buzón</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Granularidad</strong></td>
<td style="text-align: left;">Todos los correos concatenados</td>
<td style="text-align: left;">Un archivo por correo</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Concurrencia</strong></td>
<td style="text-align: left;">Requiere locks, bajo rendimiento</td>
<td style="text-align: left;">Sin locks, alta concurrencia</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Fiabilidad</strong></td>
<td style="text-align: left;">Corrupción afecta todo el buzón</td>
<td style="text-align: left;">Corrupción afecta un solo mensaje</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Rendimiento con buzones grandes</strong></td>
<td style="text-align: left;">Muy bajo</td>
<td style="text-align: left;">Excelente</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Soporte de flags IMAP</strong></td>
<td style="text-align: left;">Limitado</td>
<td style="text-align: left;">Completo</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Uso actual</strong></td>
<td style="text-align: left;">Legacy, sistemas antiguos</td>
<td style="text-align: left;">Estándar moderno</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="flujo-completo-de-un-correo">Flujo Completo de un Correo<a class="headerlink" href="#flujo-completo-de-un-correo" title="Enlace permanente">&para;</a></h2>
<p>Integrando todos los componentes, el flujo completo es:</p>
<pre class="mermaid"><code>graph TD
    A[Usuario escribe correo] --&gt; B[MUA del remitente]
    B --&gt;|SMTP autenticado| C[MTA origen]
    C --&gt;|Consulta| D[DNS - Registro MX]
    D --&gt;|Responde IP del servidor| C
    C --&gt;|SMTP público| E[MTA destino]
    E --&gt;|LMTP/LDA| F[MDA destino]
    F --&gt;|Escribe| G[Maildir del usuario]
    G &lt;--&gt;|IMAP/POP3| H[MUA del destinatario]
    H --&gt; I[Usuario lee correo]

    style B fill:#5c6bc0,stroke:#3949ab,color:#fff
    style C fill:#26a69a,stroke:#00695c,color:#fff
    style D fill:#ffa726,stroke:#f57c00,color:#fff
    style E fill:#26a69a,stroke:#00695c,color:#fff
    style F fill:#ab47bc,stroke:#7b1fa2,color:#fff
    style H fill:#5c6bc0,stroke:#3949ab,color:#fff</code></pre>
<hr />
<h2 id="proximos-pasos">Próximos Pasos<a class="headerlink" href="#proximos-pasos" title="Enlace permanente">&para;</a></h2>
<p>Ahora que comprendes la arquitectura, es momento de profundizar en los protocolos de comunicación:</p>
<ul>
<li>Explora <strong><a href="../protocolos/">Protocolos de Comunicación</a></strong> para entender SMTP, IMAP y POP3 en detalle</li>
<li>Descubre cómo <strong><a href="../dns_infraestructura/">DNS gestiona el correo</a></strong> mediante registros MX</li>
<li>Aprende sobre <strong><a href="../seguridad/">Seguridad</a></strong> con SPF, DKIM y DMARC</li>
</ul>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Volver al principio
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2026 - Material Didáctico Avanzado
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="mailto:contacto@example.com" target="_blank" rel="noopener" title="Contacto por correo" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l208 156a48 48 0 0 0 57.6 0l208-156c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48zM0 196v188c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V196L313.6 344.8c-34.1 25.6-81.1 25.6-115.2 0z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.indexes", "navigation.top", "toc.follow", "toc.integrate", "search.suggest", "search.highlight", "search.share", "content.code.copy", "content.code.annotate", "content.tabs.link"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>